{"ast":null,"code":"var _jsxFileName = \"E:\\\\project2023\\\\E_commerce\\\\React-Ecommerce-Website\\\\src\\\\Context\\\\filter_context.js\",\n    _s = $RefreshSig$(),\n    _s2 = $RefreshSig$();\n\nimport { createContext, useContext, useReducer, useEffect } from \"react\";\nimport { useProductContext } from \"./ContextProduct\";\nimport reducer from \"../reducer/filterReducers\"; // import FilterContext from \"../Context/filter_context.js\";\n\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst FilterContext = /*#__PURE__*/createContext();\nconst initialState = {\n  filter_products: [],\n  all_products: [],\n  grid_view: true,\n  sorting_value: \"lowest\",\n  filters: {\n    text: \"\"\n  }\n};\nexport const FilterContextProvider = _ref => {\n  _s();\n\n  let {\n    children\n  } = _ref;\n  const {\n    products\n  } = useProductContext();\n  const [state, dispatch] = useReducer(reducer, initialState); // to set the grid view\n\n  const setGridView = () => {\n    return dispatch({\n      type: \"SET_GRID_VIEW\"\n    });\n  };\n\n  const setListView = () => {\n    return dispatch({\n      type: \"SET_List_VIEW\"\n    });\n  }; //  shoring function\n\n\n  const sorting = event => {\n    let userValue = event.target.value;\n    dispatch({\n      type: \"GET_SORT_VALUE\",\n      payload: userValue\n    });\n  }; //update the filter values\n\n\n  const updatefiltersValue = event => {\n    let name = event.target.name;\n    let value = event.target.value;\n    return dispatch({\n      type: \"UPDATE_FILTERS_VALUE\",\n      payload: {\n        name,\n        value\n      }\n    });\n  };\n\n  useEffect(() => {\n    dispatch({\n      type: \"FILTER_PRODUCT\"\n    });\n    dispatch({\n      type: \"SHORTING_PRODUCTS\"\n    });\n  }, [products, state.sorting_value, state.filters]);\n  useEffect(() => {\n    dispatch({\n      type: \"LOAD_FILTER_PRODUCTS\",\n      payload: products\n    });\n  }, [products]);\n  return /*#__PURE__*/_jsxDEV(FilterContext.Provider, {\n    value: { ...state,\n      setListView,\n      setGridView,\n      sorting,\n      updatefiltesrValue\n    },\n    children: children\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 56,\n    columnNumber: 5\n  }, this);\n};\n\n_s(FilterContextProvider, \"/D3NV/x4qf1s/6HNJiZbe3IRDzk=\", false, function () {\n  return [useProductContext];\n});\n\n_c = FilterContextProvider;\nexport const useFilterContext = () => {\n  _s2();\n\n  return useContext(FilterContext);\n};\n\n_s2(useFilterContext, \"gDsCjeeItUuvgOWf1v4qoK9RF6k=\");\n\nvar _c;\n\n$RefreshReg$(_c, \"FilterContextProvider\");","map":{"version":3,"names":["createContext","useContext","useReducer","useEffect","useProductContext","reducer","FilterContext","initialState","filter_products","all_products","grid_view","sorting_value","filters","text","FilterContextProvider","children","products","state","dispatch","setGridView","type","setListView","sorting","event","userValue","target","value","payload","updatefiltersValue","name","updatefiltesrValue","useFilterContext"],"sources":["E:/project2023/E_commerce/React-Ecommerce-Website/src/Context/filter_context.js"],"sourcesContent":["import { createContext, useContext, useReducer, useEffect } from \"react\";\r\nimport { useProductContext } from \"./ContextProduct\"\r\nimport reducer from \"../reducer/filterReducers\";\r\n// import FilterContext from \"../Context/filter_context.js\";\r\n\r\nconst FilterContext = createContext();\r\n\r\nconst initialState = {\r\n  filter_products: [],\r\n  all_products: [],\r\n  grid_view: true,\r\n  sorting_value: \"lowest\",\r\n  filters: {\r\n    text: \"\",\r\n  }\r\n};\r\n\r\nexport const FilterContextProvider = ({ children }) => {\r\n  const { products } = useProductContext();\r\n\r\n  const [state, dispatch] = useReducer(reducer, initialState);\r\n\r\n  // to set the grid view\r\n  const setGridView = () => {\r\n    return dispatch({ type: \"SET_GRID_VIEW\" });\r\n  };\r\n\r\n  const setListView = () => {\r\n    return dispatch({ type: \"SET_List_VIEW\" });\r\n  };\r\n    //  shoring function\r\n     const sorting = (event) => { \r\n      let userValue = event.target.value;\r\n       dispatch({type: \"GET_SORT_VALUE\", payload: userValue});\r\n     };\r\n\r\n     //update the filter values\r\n     const updatefiltersValue = (event) => {\r\n      let name = event.target.name;\r\n      let value = event.target.value;\r\n      \r\n      \r\n      return dispatch ({type: \"UPDATE_FILTERS_VALUE\",payload: {name, value}});\r\n     };\r\n\r\n     useEffect(() => {\r\n      dispatch({type: \"FILTER_PRODUCT\"});\r\n       dispatch({ type: \"SHORTING_PRODUCTS\" });\r\n    }, [products ,state.sorting_value,  state.filters]);\r\n\r\n  useEffect(() => {\r\n    dispatch({ type: \"LOAD_FILTER_PRODUCTS\", payload: products });\r\n  }, [products]);\r\n\r\n  return (\r\n    <FilterContext.Provider\r\n      value={{ ...state, setListView ,setGridView, sorting,updatefiltesrValue }}>\r\n      {children}\r\n    </FilterContext.Provider>\r\n  );\r\n};\r\n\r\nexport const useFilterContext = () => {\r\n  return useContext(FilterContext);\r\n};"],"mappings":";;;;AAAA,SAASA,aAAT,EAAwBC,UAAxB,EAAoCC,UAApC,EAAgDC,SAAhD,QAAiE,OAAjE;AACA,SAASC,iBAAT,QAAkC,kBAAlC;AACA,OAAOC,OAAP,MAAoB,2BAApB,C,CACA;;;AAEA,MAAMC,aAAa,gBAAGN,aAAa,EAAnC;AAEA,MAAMO,YAAY,GAAG;EACnBC,eAAe,EAAE,EADE;EAEnBC,YAAY,EAAE,EAFK;EAGnBC,SAAS,EAAE,IAHQ;EAInBC,aAAa,EAAE,QAJI;EAKnBC,OAAO,EAAE;IACPC,IAAI,EAAE;EADC;AALU,CAArB;AAUA,OAAO,MAAMC,qBAAqB,GAAG,QAAkB;EAAA;;EAAA,IAAjB;IAAEC;EAAF,CAAiB;EACrD,MAAM;IAAEC;EAAF,IAAeZ,iBAAiB,EAAtC;EAEA,MAAM,CAACa,KAAD,EAAQC,QAAR,IAAoBhB,UAAU,CAACG,OAAD,EAAUE,YAAV,CAApC,CAHqD,CAKrD;;EACA,MAAMY,WAAW,GAAG,MAAM;IACxB,OAAOD,QAAQ,CAAC;MAAEE,IAAI,EAAE;IAAR,CAAD,CAAf;EACD,CAFD;;EAIA,MAAMC,WAAW,GAAG,MAAM;IACxB,OAAOH,QAAQ,CAAC;MAAEE,IAAI,EAAE;IAAR,CAAD,CAAf;EACD,CAFD,CAVqD,CAanD;;;EACC,MAAME,OAAO,GAAIC,KAAD,IAAW;IAC1B,IAAIC,SAAS,GAAGD,KAAK,CAACE,MAAN,CAAaC,KAA7B;IACCR,QAAQ,CAAC;MAACE,IAAI,EAAE,gBAAP;MAAyBO,OAAO,EAAEH;IAAlC,CAAD,CAAR;EACD,CAHD,CAdkD,CAmBlD;;;EACA,MAAMI,kBAAkB,GAAIL,KAAD,IAAW;IACrC,IAAIM,IAAI,GAAGN,KAAK,CAACE,MAAN,CAAaI,IAAxB;IACA,IAAIH,KAAK,GAAGH,KAAK,CAACE,MAAN,CAAaC,KAAzB;IAGA,OAAOR,QAAQ,CAAE;MAACE,IAAI,EAAE,sBAAP;MAA8BO,OAAO,EAAE;QAACE,IAAD;QAAOH;MAAP;IAAvC,CAAF,CAAf;EACA,CAND;;EAQAvB,SAAS,CAAC,MAAM;IACfe,QAAQ,CAAC;MAACE,IAAI,EAAE;IAAP,CAAD,CAAR;IACCF,QAAQ,CAAC;MAAEE,IAAI,EAAE;IAAR,CAAD,CAAR;EACF,CAHS,EAGP,CAACJ,QAAD,EAAWC,KAAK,CAACN,aAAjB,EAAiCM,KAAK,CAACL,OAAvC,CAHO,CAAT;EAKHT,SAAS,CAAC,MAAM;IACde,QAAQ,CAAC;MAAEE,IAAI,EAAE,sBAAR;MAAgCO,OAAO,EAAEX;IAAzC,CAAD,CAAR;EACD,CAFQ,EAEN,CAACA,QAAD,CAFM,CAAT;EAIA,oBACE,QAAC,aAAD,CAAe,QAAf;IACE,KAAK,EAAE,EAAE,GAAGC,KAAL;MAAYI,WAAZ;MAAyBF,WAAzB;MAAsCG,OAAtC;MAA8CQ;IAA9C,CADT;IAAA,UAEGf;EAFH;IAAA;IAAA;IAAA;EAAA,QADF;AAMD,CA3CM;;GAAMD,qB;UACUV,iB;;;KADVU,qB;AA6Cb,OAAO,MAAMiB,gBAAgB,GAAG,MAAM;EAAA;;EACpC,OAAO9B,UAAU,CAACK,aAAD,CAAjB;AACD,CAFM;;IAAMyB,gB"},"metadata":{},"sourceType":"module"}