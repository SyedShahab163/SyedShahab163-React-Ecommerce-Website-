{"ast":null,"code":"const filterReducer = (state, action) => {\n  switch (action.type) {\n    case \"LOAD_FILTER_PRODUCTS\":\n      return { ...state,\n        filter_products: [...action.payload],\n        all_products: [...action.payload]\n      };\n\n    case \"SET_GRID_VIEW\":\n      return { ...state,\n        grid_view: true\n      };\n\n    case \"SET_LIST_VIEW\":\n      return { ...state,\n        grid_view: false\n      };\n\n    case \"GET_SORT_VALUE\":\n      //  let userSortValue = document.getElementById(\"sort\");\n      //  let sort_value = userSortValue.options[userSortValue.selectedIndex].value;\n      //  console.log( sort_value)\n      return { ...state,\n        sorting_value: action.payload\n      };\n\n    case \"SORTING_PRODUCTS\":\n      let newSortData; //  let tempSortProduct = [...action.payload];\n\n      const {\n        filter_products,\n        sorting_value\n      } = state;\n      let tempSortProduct = [...filter_products];\n\n      const sortingProducts = (a, b) => {\n        if (sorting_value === \"lowest\") {\n          return a.price - b.price;\n        }\n\n        if (sorting_value === \"highest\") {\n          return b.price - a.price;\n        }\n\n        if (sorting_value === \"a-z\") {\n          return a.name.localeCompare(b.name);\n        }\n\n        if (sorting_value === \"z-a\") {\n          return b.name.localeCompare(a.name);\n        }\n      };\n\n      newSortData = tempSortProduct.sort(sortingProducts);\n      return { ...state,\n        filter_products: newSortData\n      };\n\n    case \"UPDATE_FILTERS_VALUE\":\n      const {\n        name,\n        value\n      } = action.payload;\n      return { ...state,\n        filters: { ...state.filters,\n          [name]: value\n        }\n      };\n\n    case \"FILTER_PRODUCTS\":\n      let {\n        all_products\n      } = state;\n      let tempFilterProduct = [...all_products];\n      const {\n        text,\n        category,\n        company\n      } = state.filters;\n\n      if (text) {\n        tempFilterProduct = tempFilterProduct.filter(curElem => {\n          return curElem.name.toLowerCase().includes(text);\n        });\n      }\n\n      if (category) {\n        tempFilterProduct = tempFilterProduct.filter(curElem => {\n          return curElem.category === category;\n        });\n      } // if (company) {\n      //   tempFilterProduct = tempFilterProduct.filter((curElem) => {\n      //     return curElem.company === company;\n      //   });\n      // }\n\n\n      if (company !== \"all\") {\n        tempFilterProduct = tempFilterProduct.filter(c => c.company === company);\n      }\n\n      return { ...state,\n        filter_products: tempFilterProduct\n      };\n\n    default:\n      return state;\n  }\n};\n\nexport default filterReducer;","map":{"version":3,"names":["filterReducer","state","action","type","filter_products","payload","all_products","grid_view","sorting_value","newSortData","tempSortProduct","sortingProducts","a","b","price","name","localeCompare","sort","value","filters","tempFilterProduct","text","category","company","filter","curElem","toLowerCase","includes","c"],"sources":["E:/project2023/E_commerce/React-Ecommerce-Website/src/reducer/filterReducers.js"],"sourcesContent":["const filterReducer = (state, action) => {\r\n    switch (action.type) {\r\n      case \"LOAD_FILTER_PRODUCTS\":\r\n        return {\r\n          ...state,\r\n          filter_products: [...action.payload],\r\n          all_products: [...action.payload],\r\n        };\r\n      case \"SET_GRID_VIEW\":\r\n        return {\r\n          ...state,\r\n          grid_view: true,\r\n        };\r\n      case \"SET_LIST_VIEW\":\r\n        return {\r\n          ...state,\r\n          grid_view: false,\r\n        };\r\n      case \"GET_SORT_VALUE\":\r\n        //  let userSortValue = document.getElementById(\"sort\");\r\n        //  let sort_value = userSortValue.options[userSortValue.selectedIndex].value;\r\n        //  console.log( sort_value)\r\n        return {\r\n          ...state,\r\n          sorting_value:action.payload,\r\n        };\r\n      case \"SORTING_PRODUCTS\":\r\n        let newSortData;\r\n        //  let tempSortProduct = [...action.payload];\r\n        const { filter_products, sorting_value } = state;\r\n        let tempSortProduct = [...filter_products];\r\n        const sortingProducts = (a, b) => {\r\n          if (sorting_value === \"lowest\") {\r\n            return a.price - b.price;\r\n          }\r\n          if (sorting_value === \"highest\") {\r\n            return b.price - a.price;\r\n          }\r\n          if (sorting_value === \"a-z\") {\r\n            return a.name.localeCompare(b.name);\r\n          }\r\n          if (sorting_value === \"z-a\") {\r\n            return b.name.localeCompare(a.name);\r\n          }\r\n        };\r\n        newSortData = tempSortProduct.sort(sortingProducts);\r\n        return {\r\n          ...state,\r\n          filter_products: newSortData,\r\n        };\r\n  \r\n      case \"UPDATE_FILTERS_VALUE\":\r\n        const { name, value } = action.payload;\r\n  \r\n        return {\r\n          ...state,\r\n          filters: {\r\n            ...state.filters,\r\n            [name]: value,\r\n          },\r\n        };\r\n  \r\n      case \"FILTER_PRODUCTS\":\r\n        let { all_products } = state;\r\n        let tempFilterProduct = [...all_products];\r\n  \r\n        const { text, category, company } = state.filters;\r\n  \r\n        if (text) {\r\n          tempFilterProduct = tempFilterProduct.filter((curElem) => {\r\n            return curElem.name.toLowerCase().includes(text);\r\n          });\r\n        }\r\n  \r\n        if (category) {\r\n          tempFilterProduct = tempFilterProduct.filter((curElem) => {\r\n            return curElem.category === category;\r\n          });\r\n        }\r\n  \r\n        // if (company) {\r\n        //   tempFilterProduct = tempFilterProduct.filter((curElem) => {\r\n        //     return curElem.company === company;\r\n        //   });\r\n        // }\r\n  \r\n        if (company !== \"all\") {\r\n          tempFilterProduct = tempFilterProduct.filter(\r\n            (c) => c.company === company\r\n          );\r\n        }\r\n  \r\n        return {\r\n          ...state,\r\n          filter_products: tempFilterProduct,\r\n        };\r\n  \r\n      default:\r\n        return state;\r\n    }\r\n  };\r\n  export default filterReducer;"],"mappings":"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"},"metadata":{},"sourceType":"module"}